# ุชุญุฏูุซ ููุทู ุงูุฅุดุนุงุฑุงุช - taziri

## ๐ง **ุงูุชุนุฏููุงุช ุงููุทุจูุฉ:**

### 1. **ุญูู ุงูุฅุดุนุงุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```sql
-- ูู ุฌุฏูู user_settings
notifications_enabled BOOLEAN DEFAULT true
-- true = ุงูุฅุดุนุงุฑุงุช ููุนูุฉ
-- false = ุงูุฅุดุนุงุฑุงุช ูุนุทูุฉ
```

### 2. **ููุทู ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏ:**

#### **ุฃ. ุนูุฏ ุฅุถุงูุฉ ุนุฑุถ/ููุชุฌ ุฌุฏูุฏ:**
- **ุงููุณุชูููู**: ุฌููุน ุงููุณุชุฎุฏููู ุงูุนุงุฏููู ููุท (ุบูุฑ ุงูุฃุฏูู)
- **ุงููุต**: "ุนุฑุถ ุฌุฏูุฏ: [ุงุณู ุงูุนุฑุถ/ุงูููุชุฌ] - [ุงูุณุนุฑ] ุฏุฌ"
- **ุงูููุน**: `offer`

#### **ุจ. ุนูุฏ ูุฏูู ุทูุจูุฉ ุฌุฏูุฏุฉ:**
- **ุงููุณุชูููู**: ุงูุฃุฏูู + ุงูุจุงุฆุน (ุฅุฐุง ูุงู ููุฌูุฏ)
- **ุงููุต ููุฃุฏูู**: "ุทูุจูุฉ ุฌุฏูุฏุฉ: [ุงุณู ุงูููุชุฌ] ูู [ุงุณู ุงูุนููู] - ุงูุจุงุฆุน: [ุงุณู ุงูุจุงุฆุน]"
- **ุงููุต ููุจุงุฆุน**: "ุทูุจูุฉ ุฌุฏูุฏุฉ: [ุงุณู ุงูููุชุฌ] ูู [ุงุณู ุงูุนููู]"
- **ุงูููุน**: `order`

### 3. **ููุทู ุฅูุดุงุก ุงูุทูุจูุฉ:**

#### **ุฃ. ุงููุณุชุฎุฏู ูุณุฌู ุงูุฏุฎูู (ุงูุจุงุฆุน):**
1. ุงูุถุบุท ุนูู "ุงุทูุจ ุงูุขู" ูู ุจุทุงูุฉ ุงูููุชุฌ/ุงูุนุฑุถ
2. ุฅุฏุฎุงู ุณุนุฑ ุงูุจูุน (resellerPrice)
3. ุฅูุดุงุก ุฑุงุจุท ุงูุทูุจ ูุน ูุนุฑู ุงูุจุงุฆุน
4. ูุดุงุฑูุฉ ุงูุฑุงุจุท ูุน ุงูุนููู
5. ุงูุนููู ูุดุชุฑู ุนุจุฑ ุงูุฑุงุจุท
6. ุฅูุดุงุก ุงูุทูุจูุฉ ูุน ูุนูููุงุช ุงูุจุงุฆุน ูุงูุนููู

#### **ุจ. ุงููุณุชุฎุฏู ุถูู:**
1. ุงูุถุบุท ุนูู "ุงุทูุจ ุงูุขู" ูู ุจุทุงูุฉ ุงูููุชุฌ/ุงูุนุฑุถ
2. ุฅุฏุฎุงู: ุงูุงุณูุ ุฑูู ุงููุงุชูุ ุณุนุฑ ุงูุจูุน
3. ุฅูุดุงุก ุงูุทูุจูุฉ ูุจุงุดุฑุฉ ุจุฏูู ุจุงุฆุน

### 4. **ุงูุชุนุฏููุงุช ูู ุงูููุฏ:**

#### **ุฃ. ุชุญุฏูุซ ุฎุฏูุงุช ุงูุฅุดุนุงุฑุงุช:**
- `notifyUsersForNewOffer()`: ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู ุงูุนุงุฏููู ููุท
- `notifyAdminAndSellerForNewOrder()`: ุฅุดุนุงุฑุงุช ููุฃุฏูู ูุงูุจุงุฆุน

#### **ุจ. ุชุญุฏูุซ ูุงุฌูุฉ ุงูุทูุจุงุช:**
- ุฅุถุงูุฉ `sellerId` ู `sellerName` ูู `CreateOrderData`
- ุชุญุฏูุซ ููุทู ุฅูุดุงุก ุงูุทูุจูุฉ

### 5. **ุชุฏูู ุงูุนูู:**

#### **ุณููุงุฑูู 1: ุงูุจุงุฆุน ูุณุฌู ุงูุฏุฎูู**
```
1. ุงูุจุงุฆุน ูุถุบุท "ุงุทูุจ ุงูุขู"
2. ูุฏุฎู ุณุนุฑ ุงูุจูุน
3. ูุชู ุฅูุดุงุก ุฑุงุจุท ุงูุทูุจ
4. ุงูุจุงุฆุน ูุดุงุฑู ุงูุฑุงุจุท ูุน ุงูุนููู
5. ุงูุนููู ูุดุชุฑู ุนุจุฑ ุงูุฑุงุจุท
6. ุฅูุดุงุก ุงูุทูุจูุฉ ูุน ูุนุฑู ุงูุจุงุฆุน
7. ุฅุฑุณุงู ุฅุดุนุงุฑ ููุฃุฏูู ูุงูุจุงุฆุน
8. ุงูุทูุจูุฉ ุชุธูุฑ ูู:
   - ุตูุญุฉ ุทูุจุงุช ุงูุจุงุฆุน
   - ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุฃุฏูู
   - ุฅุดุนุงุฑุงุช ุงูุจุงุฆุน ูุงูุฃุฏูู
```

#### **ุณููุงุฑูู 2: ุงููุณุชุฎุฏู ุถูู**
```
1. ุงูุถูู ูุถุบุท "ุงุทูุจ ุงูุขู"
2. ูุฏุฎู: ุงูุงุณูุ ุฑูู ุงููุงุชูุ ุณุนุฑ ุงูุจูุน
3. ุฅูุดุงุก ุงูุทูุจูุฉ ูุจุงุดุฑุฉ
4. ุฅุฑุณุงู ุฅุดุนุงุฑ ููุฃุฏูู ููุท
5. ุงูุทูุจูุฉ ุชุธูุฑ ูู:
   - ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุฃุฏูู
   - ุฅุดุนุงุฑุงุช ุงูุฃุฏูู
```

### 6. **ุงููููุงุช ุงููุญุฏุซุฉ:**
- `lib/notifications.ts` - ููุทู ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏ
- `lib/orders.ts` - ูุงุฌูุฉ ุฅูุดุงุก ุงูุทูุจุงุช
- `update-database-notifications.sql` - ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 7. **ุงูุงุฎุชุจุงุฑุงุช ุงููุทููุจุฉ:**
- โ ุฅูุดุงุก ุนุฑุถ ุฌุฏูุฏ โ ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู ุงูุนุงุฏููู
- โ ุฅูุดุงุก ุทูุจูุฉ ูู ุจุงุฆุน โ ุฅุดุนุงุฑุงุช ููุฃุฏูู ูุงูุจุงุฆุน
- โ ุฅูุดุงุก ุทูุจูุฉ ูู ุถูู โ ุฅุดุนุงุฑุงุช ููุฃุฏูู ููุท
- โ ุชุนุทูู ุงูุฅุดุนุงุฑุงุช โ ุนุฏู ุฅุฑุณุงู ุฅุดุนุงุฑุงุช

## ๐ฏ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

ุงููุธุงู ุงูุขู ูุฏุนู:
- โ ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ ุญุณุจ ููุน ุงููุณุชุฎุฏู
- โ ุฅุดุนุงุฑุงุช ููุจุงุฆุน ูุงูุฃุฏูู ุนูุฏ ุงูุทูุจุงุช
- โ ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู ุงูุนุงุฏููู ุนูุฏ ุงูุนุฑูุถ ุงูุฌุฏูุฏุฉ
- โ ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช
- โ ููุทู ุฅูุดุงุก ุงูุทูุจุงุช ุงููุชูุฏู

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!** ๐
